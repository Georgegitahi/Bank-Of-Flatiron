{"ast":null,"code":"import _slicedToArray from\"/home/peter/assignments/phase-2/Bank_of_flatiron/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import Transaction from\"./Transaction\";function TransactionsList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],setTransactions=_useState2[1];useEffect(function(){fetch('http://localhost:8001/transactions').then(function(response){return response.json();}).then(function(data){setTransactions(data);});},[]);//delete\nvar handleDelete=function handleDelete(id){fetch(\"http://localhost:8001/transactions/\".concat(id),{method:'DELETE'}).then(function(response){return response.json();}).then(function(res){alert(\"Transaction deleted succesfully\");});};console.log(transactions);return/*#__PURE__*/_jsx(\"table\",{className:\"ui celled striped padded table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"ui center aligned header\",children:\"Date\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"ui center aligned header\",children:\"Description\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"ui center aligned header\",children:\"Category\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"ui center aligned header\",children:\"Amount\"})})]}),transactions&&transactions.map(function(trans){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:trans.date})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[trans.description,\"n\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:trans.category})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:trans.amount})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(trans.id);},children:\"Delete\"})})]},trans.id);})]})});}export default TransactionsList;","map":{"version":3,"sources":["/home/peter/assignments/phase-2/Bank_of_flatiron/src/components/TransactionsList.js"],"names":["React","useEffect","useState","Transaction","TransactionsList","transactions","setTransactions","fetch","then","response","json","data","handleDelete","id","method","res","alert","console","log","map","trans","date","description","category","amount"],"mappings":"2NAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,QAASC,CAAAA,gBAAT,EAA4B,eACcF,QAAQ,CAAC,EAAD,CADtB,wCACnBG,YADmB,eACLC,eADK,eAI1BL,SAAS,CAAC,UAAI,CAEZM,KAAK,CAAC,oCAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CAEfL,eAAe,CAACK,IAAD,CAAf,CAEA,CANH,EAQD,CAVQ,CAUN,EAVM,CAAT,CAWA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,EAAD,CAAO,CAC1BN,KAAK,8CAAwCM,EAAxC,EAA6C,CAChDC,MAAM,CAAC,QADyC,CAA7C,CAAL,CAGCN,IAHD,CAGM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAHN,EAICF,IAJD,CAIM,SAACO,GAAD,CAAO,CACbC,KAAK,CAAC,iCAAD,CAAL,CACD,CANC,EAOD,CARD,CAUAC,OAAO,CAACC,GAAR,CAAYb,YAAZ,EAEA,mBACE,cAAO,SAAS,CAAC,gCAAjB,uBACE,sCACE,mCACE,iCACE,WAAI,SAAS,CAAC,0BAAd,kBADF,EADF,cAIE,iCACE,WAAI,SAAS,CAAC,0BAAd,yBADF,EAJF,cAOE,iCACE,WAAI,SAAS,CAAC,0BAAd,sBADF,EAPF,cAUE,iCACE,WAAI,SAAS,CAAC,0BAAd,oBADF,EAVF,GADF,CAiBIA,YAAY,EAAIA,YAAY,CAACc,GAAb,CAAiB,SAACC,KAAD,qBAClC,mCACC,iCACE,mBAAKA,KAAK,CAACC,IAAX,EADF,EADD,cAIC,iCACE,qBAAKD,KAAK,CAACE,WAAX,OADF,EAJD,cAOC,iCACE,mBAAKF,KAAK,CAACG,QAAX,EADF,EAPD,cAUC,iCACE,mBAAKH,KAAK,CAACI,MAAX,EADF,EAVD,cAaC,iCACE,eAAQ,OAAO,CAAE,yBAAIZ,CAAAA,YAAY,CAACQ,KAAK,CAACP,EAAP,CAAhB,EAAjB,oBADF,EAbD,GAASO,KAAK,CAACP,EAAf,CADkC,EAAjB,CAjBpB,GADF,EADF,CA+CD,CAED,cAAeT,CAAAA,gBAAf","sourcesContent":["import React, {useEffect , useState } from \"react\";\nimport Transaction from \"./Transaction\";\n\nfunction TransactionsList() {\n  const [transactions, setTransactions] = useState([])\n  \n\n  useEffect(()=>{\n\n    fetch('http://localhost:8001/transactions')\n      .then((response) => response.json())\n      .then((data) => {\n\n       setTransactions(data)\n\n      } );\n\n  }, [])\n  //delete\n  const handleDelete = (id) =>{\n    fetch (`http://localhost:8001/transactions/${id}`,{\n      method:'DELETE',\n    })\n    .then((response) => response.json())\n    .then((res)=>{\n    alert(\"Transaction deleted succesfully\")\n  });\n  }\n  \n  console.log(transactions);\n\n  return (\n    <table className=\"ui celled striped padded table\">\n      <tbody>\n        <tr>\n          <th>\n            <h3 className=\"ui center aligned header\">Date</h3>\n          </th>\n          <th>\n            <h3 className=\"ui center aligned header\">Description</h3>\n          </th>\n          <th>\n            <h3 className=\"ui center aligned header\">Category</h3>\n          </th>\n          <th>\n            <h3 className=\"ui center aligned header\">Amount</h3>\n          </th>\n        </tr>\n        {/* render a list of <Transaction> components here */}\n        {\n          transactions && transactions.map((trans)=>(\n         <tr key={trans.id}>\n          <td>\n            <p >{trans.date}</p>\n          </td>\n          <td>\n            <p >{trans.description}n</p>\n          </td>\n          <td>\n            <p >{trans.category}</p>\n          </td>\n          <td>\n            <p >{trans.amount}</p>\n          </td>\n          <td>\n            <button onClick={()=>handleDelete(trans.id)}>\n              Delete\n            </button>\n          </td>\n        </tr>\n\n\n\n          ))\n        }\n      </tbody>\n    </table>\n  );\n}\n\nexport default TransactionsList;\n"]},"metadata":{},"sourceType":"module"}